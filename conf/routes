# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~
# all REST endpoints are prefixed with /rest/ and receive/return JSON-encoded data

GET     /                                controllers.LibraryUI.index(search: String ?= "", keyword: String ?= "", order: String ?= "name")
GET     /folder/*folder                  controllers.LibraryUI.listAssetsInFolder(folder, order: String ?= "name")
GET     /asset/*path                     controllers.LibraryUI.showAsset(path)
GET     /downloadFolder/*path            controllers.LibraryUI.downloadFolder(path)
GET     /jsroutes.js                     controllers.JavascriptRoutes.generateRoutes


#######################################
# OLD non-AJAX stuff -- To be removed eventually
GET     /noajax/                                controllers.Application.index(search: String ?= "", keyword: String ?= "", order: String ?= "name")
GET     /noajax/folder/*folder                  controllers.Application.listAssetsInFolder(folder, order: String ?= "name")
GET     /noajax/asset/*path                     controllers.Application.showAsset(path)
GET     /noajax/downloadFolder/*path            controllers.Application.downloadFolder(path)
##############################


GET     /rest/find                       controllers.LibraryService.search(searchType: String ?= "", search: String ?= "", order: String ?= "")
GET     /rest/asset/*path                controllers.LibraryService.getAsset(path)

POST    /rest/archive                    controllers.ArchiveBuilder.archive

#
# ADMIN mode routes
#
GET     /admin/rescan                    controllers.Admin.rescan(url: String ?= "")
GET     /admin/editMetadata/*asset       controllers.Admin.editMetadata(asset, description: String ?= "", keywords: String ?= "")
POST    /rest/admin/massEditMetadata/    controllers.Admin.massEditMetadata

#
# Static resources -- may be replaced by Apache or nginx in production
# 
GET     /s/file/*file                    controllers.FileServer.serve(file)
GET     /s/archive/*file                 controllers.FileServer.serveArchive(file)
GET     /s/theme/*file                   controllers.FileServer.serveTheme(file)
GET     /s/web/*file                     controllers.Assets.at(path="/public", file)
